<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>/Chat</title>
    <style>
      ::-webkit-scrollbar {
        width: 20px;
      }

      ::-webkit-scrollbar-track {
        background-color: transparent;
      }

      ::-webkit-scrollbar-thumb {
        background-color: rgb(46, 51, 61);
        border-radius: 20px;
        border: 6px solid transparent;
        background-clip: content-box;
      }

      ::-webkit-scrollbar-thumb:hover {
        background-color: rgb(97, 105, 121);
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body
    class="bg-[#34393C] w-screen h-screen pl-5 pt-0.5 pr-5 pb-10 text-white font-mono"
  >
    <div
      id="container"
      class="w-full h-full m-auto mt-5 p-2 rounded-3xl flex flex-row bg-[#202329]"
    >
      <!-- container -->
      <div class="flex flex-col w-1/3 h-full">
        <!-- sidebar -->
        <div class="h-20 flex flex-row rounded-3xl m-7 bg-[#2E333D]">
          <!-- search -->
          <img
            class="w-12 h-12 m-auto cursor-pointer"
            src="Assets/icons8-search-48.png"
            alt="Search"
          />
          <input
            id="searchContact"
            type="search"
            placeholder="Search"
            class="w-5/6 h-5/6 pl-1 mr-2 rounded- bg-inherit m-auto focus:outline-none"
          />
        </div>
        <div
          id="contactList"
          class="container custom-scrollbar w-11/12 h-full rounded-2xl m-auto overflow-y-auto"
        >
          <!-- contact -->
        </div>
      </div>
      <div id="chatView" class="w-2/3 h-full flex flex-col bg-[#202329]">
        <!-- chat view-->
        <div class="pl-5 w-full h-20 flex flex-row justify-between">
          <!-- head -->
          <div id="profile" class="text-2xl pt-10">
            <!-- profile -->
          </div>
          <img
            class="w-7 h-7 mt-12 mr-6 cursor-pointer"
            src="Assets/icons8-more-50.png"
            alt="more"
          />
        </div>
        <div class="pl-5 w-full h-5/6">
          <!-- pv -->
        </div>
        <div class="w-full h-14">
          <div class="w-full h-full rounded-3xl flex">
            <img
              class="w-8 h-8 ml-8 m-auto cursor-pointer"
              src="Assets/icons8-attach-48.png"
              alt="Attach"
            />
            <input
              placeholder="Your message"
              type="text"
              class="bg-inherit w-11/12 h-5/6 m-auto focus:outline-none pl-2"
            />
          </div>
          <!-- sender -->
        </div>
      </div>
    </div>
    <script>
      const contact = [
        { name: "ali", phone: "1" },
        { name: "reza", phone: "2" },
        { name: "arash", phone: "3" },
        { name: "maman", phone: "4" },
        { name: "uni", phone: "5" },
        { name: "ahmad klc", phone: "6" },
        { name: "mohsen bina", phone: "7" },
        { name: "sina kk", phone: "8" },
        { name: "Elham", phone: "9" },
        { name: "zz", phone: "10" },
        { name: "hamed n", phone: "11" },
        { name: "gg", phone: "12" },
        { name: "mina arbabi", phone: "13" },
      ];
      const contactList = document.getElementById("contactList");

      function randomColor() {
        const r = Math.floor(Math.random() * 256);
        const g = Math.floor(Math.random() * 256);
        const b = Math.floor(Math.random() * 256);
        return `bg-[rgb(${r},${g},${b})]`;
      }
      if (!contact || contact.length === 0) {
        contactList.innerHTML = "No contacts";
        contactList.className = " m-auto text-white text-3xl cursor-default";

        removeElement();
        function removeElement() {
          const chatView = document.getElementById("chatView");
          const container = document.getElementById("container");
          const searchContact = document.getElementById("searchContact");
          container.removeChild(chatView);
          return;
        }
      }
      let selected;
      contact.forEach(function (contacts) {
        const contactItem = document.createElement("div");
        const contactAvatar = document.createElement("div");
        const contactName = document.createElement("div");
        const date = document.createElement("div");
        const profile = document.getElementById("profile");
        function nowTime() {
          const now = new Date();
          const hour = now.getHours();
          const minute = String(now.getMinutes()).padStart(2, "0");
          return `${hour}:${minute}`;
        }
        const time = nowTime();
        const RGB = randomColor();

        // console.log(`Current time: ${hour}:${minute}`);
        date.textContent = time;
        contactName.textContent = contacts.name;
        contactAvatar.textContent = contacts.name[0];

        contactItem.appendChild(contactAvatar);
        contactItem.appendChild(contactName);
        contactItem.appendChild(date);
        contactList.appendChild(contactItem);

        contactItem.className =
          "  flex flex-row hover:bg-[#2E333D] rounded-3xl h-24 w-full m-auto cursor-pointer relative min-w-0";

        contactAvatar.className =
          RGB +
          "  w-16 h-16  rounded-2xl text-center m-auto ml-4 mr-3  p-4 text-xl min-w-0";

        contactName.className = "pt-5 text-xl cursor-default ";

        date.className =
          " absolute right-2 top-6 text-xs text-gray-400 min-w-0";

        contactItem.addEventListener("click", function () {
          if (selected) {
            selected.className =
              "  flex flex-row hover:bg-[#2E333D] rounded-3xl h-24 w-full m-auto cursor-pointer relative ";
          }
          selected = contactItem;
          contactItem.className =
            " flex flex-row bg-[#2E333D] rounded-3xl h-24 w-full m-auto cursor-pointer relative ";

          profile.innerHTML = contactName.textContent;
        });
      });
    </script>
  </body>
</html>
